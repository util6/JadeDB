# JadeDB B+æ ‘å¼•æ“Žå¼€å‘è¯¦ç»†è®°å½•

## ðŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†è®°å½•äº†JadeDB B+æ ‘å­˜å‚¨å¼•æ“Žçš„å¼€å‘è¿‡ç¨‹ï¼ŒåŒ…æ‹¬è®¾è®¡å†³ç­–ã€å®žçŽ°ç»†èŠ‚ã€é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ¡ˆã€‚ç›®æ ‡æ˜¯å®žçŽ°è¾¾åˆ°InnoDBå®Œæ•´æ€§æ ‡å‡†çš„å·¥ä¸šçº§B+æ ‘å­˜å‚¨å¼•æ“Žã€‚

## ðŸŽ¯ å¼€å‘ç›®æ ‡ä¸Žæ ‡å‡†

### InnoDBå®Œæ•´æ€§æ ‡å‡†å¯¹æ ‡
- âœ… **é¡µé¢ç®¡ç†**ï¼šå›ºå®šå¤§å°é¡µé¢ï¼Œæ”¯æŒç¼“å†²æ± 
- âœ… **å´©æºƒæ¢å¤**ï¼šåŸºäºŽWALçš„å®Œæ•´æ¢å¤æœºåˆ¶
- âœ… **æ•°æ®å®Œæ•´æ€§**ï¼šæ ¡éªŒå’Œæœºåˆ¶ï¼Œæ£€æµ‹æ•°æ®æŸå
- âœ… **æ€§èƒ½ä¼˜åŒ–**ï¼šè‡ªé€‚åº”å“ˆå¸Œç´¢å¼•ã€é¢„è¯»æœºåˆ¶
- ðŸš§ **é”æœºåˆ¶**ï¼šè¡Œé”ã€è¡¨é”ã€æ„å‘é”ï¼ˆå¾…å®žçŽ°ï¼‰
- ðŸš§ **ç´¢å¼•ç»“æž„**ï¼šèšç°‡ç´¢å¼•å’Œè¾…åŠ©ç´¢å¼•ï¼ˆå¾…å®žçŽ°ï¼‰

### æŠ€æœ¯é€‰åž‹å†³ç­–
1. **é¡µé¢å¤§å°**ï¼šé€‰æ‹©16KBï¼Œä¸ŽInnoDBä¿æŒä¸€è‡´ï¼Œå¹³è¡¡å†…å­˜ä½¿ç”¨å’ŒI/Oæ•ˆçŽ‡
2. **å¹¶å‘æ¨¡åž‹**ï¼šåˆ†åŒºè®¾è®¡ + è¯»å†™é”ï¼Œå‡å°‘é”ç«žäº‰
3. **æ¢å¤ç®—æ³•**ï¼šARIESä¸‰é˜¶æ®µæ¢å¤ï¼Œå·¥ä¸šæ ‡å‡†
4. **ç¼“å­˜ç­–ç•¥**ï¼šLRU + åˆ†åŒºï¼Œæé«˜å¹¶å‘æ€§èƒ½

## ðŸ—ï¸ æž¶æž„è®¾è®¡

### æ•´ä½“æž¶æž„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BPlusTree                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ PageManager â”‚ â”‚ BufferPool  â”‚ â”‚ PerformanceOptimizerâ”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚ WALManager  â”‚ â”‚ RecoveryMgr â”‚                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¨¡å—èŒè´£åˆ’åˆ†
- **PageManager**: é¡µé¢åˆ†é…ã€å›žæ”¶ã€I/Oæ“ä½œ
- **BufferPool**: é¡µé¢ç¼“å­˜ã€LRUç®¡ç†ã€è„é¡µåˆ·æ–°
- **WALManager**: é¢„å†™æ—¥å¿—ã€LSNç®¡ç†ã€æ—¥å¿—è½®è½¬
- **RecoveryManager**: å´©æºƒæ¢å¤ã€äº‹åŠ¡çŠ¶æ€è·Ÿè¸ª
- **AdaptiveHashIndex**: çƒ­ç‚¹æŸ¥è¯¢ä¼˜åŒ–
- **Prefetcher**: æ™ºèƒ½é¢„è¯»ã€è®¿é—®æ¨¡å¼æ£€æµ‹

## ðŸ”§ æ ¸å¿ƒç»„ä»¶å®žçŽ°è¯¦è§£

### 1. é¡µé¢ç®¡ç†ç³»ç»Ÿ

#### é¡µé¢ç»“æž„è®¾è®¡
```go
// é¡µé¢å¤´éƒ¨ï¼ˆ56å­—èŠ‚ï¼‰- ç²¾å¿ƒè®¾è®¡çš„å…ƒæ•°æ®å¸ƒå±€
type PageHeader struct {
    // åŸºæœ¬ä¿¡æ¯ï¼ˆ16å­—èŠ‚ï¼‰
    PageID     uint64    // é¡µé¢å”¯ä¸€æ ‡è¯†ç¬¦
    PageType   PageType  // é¡µé¢ç±»åž‹ï¼ˆæ ¹/å†…éƒ¨/å¶å­/æº¢å‡ºï¼‰
    Level      uint16    // B+æ ‘å±‚çº§
    Flags      uint32    // é¡µé¢æ ‡å¿—ä½
    
    // å®Œæ•´æ€§ä¿æŠ¤ï¼ˆ16å­—èŠ‚ï¼‰
    Checksum   uint32    // CRC32æ ¡éªŒå’Œ
    LSN        uint64    // æ—¥å¿—åºåˆ—å·ï¼Œç”¨äºŽæ¢å¤
    Reserved1  uint32    // ä¿ç•™å­—æ®µ
    
    // ç©ºé—´ç®¡ç†ï¼ˆ16å­—èŠ‚ï¼‰
    RecordCount uint16   // å½“å‰è®°å½•æ•°é‡
    FreeSpace   uint16   // å‰©ä½™ç©ºé—´å¤§å°
    FreeOffset  uint16   // ç©ºé—²ç©ºé—´èµ·å§‹åç§»
    GarbageSize uint16   // åžƒåœ¾ç©ºé—´å¤§å°
    FirstRecord uint16   // ç¬¬ä¸€æ¡è®°å½•åç§»
    LastRecord  uint16   // æœ€åŽä¸€æ¡è®°å½•åç§»
    Reserved2   uint32   // ä¿ç•™å­—æ®µ
    
    // é“¾æŽ¥ä¿¡æ¯ï¼ˆ8å­—èŠ‚ï¼‰
    PrevPage   uint64    // å‰ä¸€ä¸ªé¡µé¢IDï¼ˆå¶å­é¡µé¢é“¾è¡¨ï¼‰
    NextPage   uint64    // ä¸‹ä¸€ä¸ªé¡µé¢IDï¼ˆå¶å­é¡µé¢é“¾è¡¨ï¼‰
}
```

#### è®¾è®¡äº®ç‚¹
1. **å¯¹é½ä¼˜åŒ–**: æ‰€æœ‰å­—æ®µæŒ‰8å­—èŠ‚å¯¹é½ï¼Œæé«˜è®¿é—®æ•ˆçŽ‡
2. **ç‰ˆæœ¬å…¼å®¹**: é¢„ç•™å­—æ®µæ”¯æŒæœªæ¥æ‰©å±•
3. **å®Œæ•´æ€§ä¿æŠ¤**: åŒé‡æ ¡éªŒå’Œï¼ˆå¤´éƒ¨+å°¾éƒ¨ï¼‰
4. **ç©ºé—´ç®¡ç†**: ç»†ç²’åº¦çš„ç©ºé—´ä½¿ç”¨ç»Ÿè®¡

#### æ–‡ä»¶ç»„ç»‡ç­–ç•¥
- **å¤šæ–‡ä»¶æž¶æž„**: æ¯ä¸ªæ–‡ä»¶64MBï¼Œé¿å…å•æ–‡ä»¶è¿‡å¤§
- **é¡µé¢ç¼–å·**: å…¨å±€å”¯ä¸€IDï¼Œæ”¯æŒè·¨æ–‡ä»¶å¼•ç”¨
- **é¢„åˆ†é…**: æ–‡ä»¶åˆ›å»ºæ—¶é¢„åˆ†é…ç©ºé—´ï¼Œå‡å°‘ç¢Žç‰‡

### 2. ç¼“å†²æ± ç®¡ç†

#### åˆ†åŒºè®¾è®¡
```go
// 16ä¸ªåˆ†åŒºï¼Œå‡å°‘é”ç«žäº‰
const PartitionCount = 16

type BufferPartition struct {
    mutex       sync.RWMutex      // åˆ†åŒºçº§é”
    pages       map[uint64]*Page  // é¡µé¢å“ˆå¸Œè¡¨
    lruList     *list.List        // LRUé“¾è¡¨
    dirtyList   *list.List        // è„é¡µé“¾è¡¨
    capacity    int               // åˆ†åŒºå®¹é‡
}
```

#### æ ¸å¿ƒç®—æ³•
1. **é¡µé¢å®šä½**: `pageID & partitionMask` å¿«é€Ÿå®šä½åˆ†åŒº
2. **LRUç®¡ç†**: åŒå‘é“¾è¡¨ + å“ˆå¸Œè¡¨ï¼ŒO(1)è®¿é—®å’Œæ›´æ–°
3. **è„é¡µè·Ÿè¸ª**: ç‹¬ç«‹è„é¡µé“¾è¡¨ï¼Œæ”¯æŒæ‰¹é‡åˆ·æ–°
4. **å¹¶å‘æŽ§åˆ¶**: è¯»å†™é” + åˆ†åŒºï¼Œæœ€å¤§åŒ–å¹¶å‘åº¦

#### æ€§èƒ½ä¼˜åŒ–
- **é¢„åˆ†é…**: é¡µé¢å¯¹è±¡æ± ï¼Œå‡å°‘GCåŽ‹åŠ›
- **æ‰¹é‡æ“ä½œ**: è„é¡µæ‰¹é‡åˆ·æ–°ï¼Œæé«˜I/Oæ•ˆçŽ‡
- **è‡ªé€‚åº”**: æ ¹æ®è®¿é—®æ¨¡å¼è°ƒæ•´ç¼“å­˜ç­–ç•¥

### 3. WALæ—¥å¿—ç³»ç»Ÿ

#### æ—¥å¿—è®°å½•æ ¼å¼
```go
// æ—¥å¿—è®°å½•å¤´éƒ¨ï¼ˆ33å­—èŠ‚ï¼‰- ç´§å‡‘çš„äºŒè¿›åˆ¶æ ¼å¼
type LogRecord struct {
    LSN        uint64           // æ—¥å¿—åºåˆ—å·ï¼ˆ8å­—èŠ‚ï¼‰
    Type       LogRecordType    // è®°å½•ç±»åž‹ï¼ˆ1å­—èŠ‚ï¼‰
    TxnID      uint64           // äº‹åŠ¡IDï¼ˆ8å­—èŠ‚ï¼‰
    PageID     uint64           // é¡µé¢IDï¼ˆ8å­—èŠ‚ï¼‰
    Length     uint32           // æ•°æ®é•¿åº¦ï¼ˆ4å­—èŠ‚ï¼‰
    Checksum   uint32           // æ ¡éªŒå’Œï¼ˆ4å­—èŠ‚ï¼‰
    Data       []byte           // å˜é•¿æ•°æ®
}
```

#### å…³é”®ç‰¹æ€§
1. **é¡ºåºå†™å…¥**: å……åˆ†åˆ©ç”¨ç£ç›˜é¡ºåºå†™å…¥æ€§èƒ½
2. **ç»„æäº¤**: æ‰¹é‡å†™å…¥å¤šæ¡è®°å½•ï¼Œå‡å°‘ç³»ç»Ÿè°ƒç”¨
3. **æ ¡éªŒå’Œ**: æ¯æ¡è®°å½•ç‹¬ç«‹æ ¡éªŒï¼Œæ£€æµ‹æŸå
4. **åŽ‹ç¼©æ ¼å¼**: ç´§å‡‘çš„äºŒè¿›åˆ¶æ ¼å¼ï¼ŒèŠ‚çœç©ºé—´

#### æ—¥å¿—è½®è½¬ç­–ç•¥
- **æ–‡ä»¶å¤§å°**: 64MBä¸Šé™ï¼Œé¿å…å•æ–‡ä»¶è¿‡å¤§
- **å‘½åè§„åˆ™**: `wal_000001.wal` é€’å¢žç¼–å·
- **æ¸…ç†ç­–ç•¥**: æ£€æŸ¥ç‚¹åŽæ¸…ç†æ—§æ—¥å¿—æ–‡ä»¶

### 4. å´©æºƒæ¢å¤æœºåˆ¶

#### ARIESç®—æ³•å®žçŽ°
```go
// ä¸‰é˜¶æ®µæ¢å¤æµç¨‹
func (rm *RecoveryManager) Recovery() error {
    // 1. Analysisé˜¶æ®µï¼šåˆ†æžWALï¼Œç¡®å®šæ¢å¤èŒƒå›´
    if err := rm.analysisPhase(); err != nil {
        return err
    }
    
    // 2. Redoé˜¶æ®µï¼šé‡åšå·²æäº¤äº‹åŠ¡
    if err := rm.redoPhase(); err != nil {
        return err
    }
    
    // 3. Undoé˜¶æ®µï¼šæ’¤é”€æœªæäº¤äº‹åŠ¡
    if err := rm.undoPhase(); err != nil {
        return err
    }
    
    return nil
}
```

#### äº‹åŠ¡çŠ¶æ€è·Ÿè¸ª
```go
type TxnState struct {
    TxnID       uint64              // äº‹åŠ¡ID
    StartLSN    uint64              // å¼€å§‹LSN
    LastLSN     uint64              // æœ€åŽLSN
    Status      TxnStatus           // äº‹åŠ¡çŠ¶æ€
    UndoRecords []*LogRecord        // æ’¤é”€è®°å½•
}
```

#### æ¢å¤ä¿è¯
1. **åŽŸå­æ€§**: äº‹åŠ¡è¦ä¹ˆå…¨éƒ¨é‡åšï¼Œè¦ä¹ˆå…¨éƒ¨æ’¤é”€
2. **ä¸€è‡´æ€§**: æ¢å¤åŽæ•°æ®åº“å¤„äºŽä¸€è‡´çŠ¶æ€
3. **å¹‚ç­‰æ€§**: é‡å¤æ¢å¤ä¸ä¼šäº§ç”Ÿå‰¯ä½œç”¨
4. **å®Œæ•´æ€§**: å¤šå±‚æ ¡éªŒç¡®ä¿æ•°æ®æ­£ç¡®æ€§

## ðŸ› å…³é”®é—®é¢˜ä¸Žè§£å†³æ–¹æ¡ˆ

### é—®é¢˜1: ç±»åž‹é‡å¤å£°æ˜Ž
**çŽ°è±¡**: ç¼–è¯‘é”™è¯¯ `LRUNode redeclared in this block`

**åˆ†æž**: 
- buffer_pool.goå’Œadaptive_hash.goéƒ½å®šä¹‰äº†LRUNode
- Goè¯­è¨€åŒä¸€åŒ…å†…ä¸å…è®¸é‡å¤ç±»åž‹å£°æ˜Ž

**è§£å†³æ–¹æ¡ˆ**:
```go
// é‡å‘½åé¿å…å†²çª
type BufferLRUNode struct { ... }  // buffer_pool.go
type HashLRUNode struct { ... }    // adaptive_hash.go

// Pageç»“æž„ä½¿ç”¨interface{}æ”¯æŒä¸åŒç±»åž‹
type Page struct {
    lruNode interface{} // æ”¯æŒä¸åŒæ¨¡å—çš„LRUèŠ‚ç‚¹
}
```

**ç»éªŒæ€»ç»“**: å¤§åž‹é¡¹ç›®ä¸­è¦æ³¨æ„å‘½åç©ºé—´ç®¡ç†ï¼Œä½¿ç”¨å‰ç¼€åŒºåˆ†ä¸åŒæ¨¡å—çš„ç±»åž‹

### é—®é¢˜2: æ–‡ä»¶å¤§å°ä¸åŒ¹é…
**çŽ°è±¡**: è¿è¡Œæ—¶panic `slice bounds out of range [32768:16384]`

**åˆ†æž**:
- æœŸæœ›æ–‡ä»¶å¤§å°: 64MB (4096 * 16KB)
- å®žé™…æ–‡ä»¶å¤§å°: 16KB
- æ ¹å› : `loadDataFile`ä¼ é€’size=0ï¼Œæ–‡ä»¶ä¸ä¼šæ‰©å±•

**è§£å†³æ–¹æ¡ˆ**:
```go
// ä¿®å¤å‰ï¼šä½¿ç”¨æ–‡ä»¶å®žé™…å¤§å°
f, err := file.OpenMmapFile(filename, os.O_RDWR, 0)

// ä¿®å¤åŽï¼šå¼ºåˆ¶æ‰©å±•åˆ°é¢„æœŸå¤§å°
expectedSize := PagesPerFile * PageSize
f, err := file.OpenMmapFile(filename, os.O_RDWR, expectedSize)

// åŒæ—¶ä¿®å¤CreateMmapFileé€»è¾‘
if sz > 0 && fileSize < int64(sz) {  // æ”¹ä¸ºå°äºŽåˆ¤æ–­
    if err := fd.Truncate(int64(sz)); err != nil {
        return nil, err
    }
}
```

**ç»éªŒæ€»ç»“**: 
1. æ–‡ä»¶æ“ä½œè¦è€ƒè™‘å·²å­˜åœ¨æ–‡ä»¶çš„æƒ…å†µ
2. æµ‹è¯•çŽ¯å¢ƒè¦æ¸…ç†æ®‹ç•™æ–‡ä»¶
3. æ·»åŠ æ–‡ä»¶å¤§å°éªŒè¯ï¼ŒåŠæ—©å‘çŽ°é—®é¢˜

### é—®é¢˜3: WAL LSNåˆ†é…é”™è¯¯
**çŽ°è±¡**: æµ‹è¯•å¤±è´¥ï¼ŒLSNå§‹ç»ˆä¸º0

**åˆ†æž**:
- `nextLSN.Add(1) - 1` åœ¨åˆå§‹å€¼0æ—¶è¿”å›ž0
- æ–°æ–‡ä»¶åˆ›å»ºæ—¶æ²¡æœ‰åˆå§‹åŒ–LSN
- LSN=0åœ¨æ•°æ®åº“ä¸­é€šå¸¸è¡¨ç¤ºæ— æ•ˆå€¼

**è§£å†³æ–¹æ¡ˆ**:
```go
// ä¿®å¤LSNåˆ†é…é€»è¾‘
// ä¿®å¤å‰
lsn := wm.nextLSN.Add(1) - 1

// ä¿®å¤åŽ
lsn := wm.nextLSN.Load()
wm.nextLSN.Add(1)

// ç¡®ä¿LSNä»Ž1å¼€å§‹
func (wm *WALManager) createWALFile(index uint64) error {
    // ... æ–‡ä»¶åˆ›å»ºé€»è¾‘
    wm.nextLSN.Store(1)      // æ–°æ–‡ä»¶ä»Ž1å¼€å§‹
    wm.flushedLSN.Store(0)   // å·²åˆ·æ–°LSNä¸º0
    return nil
}
```

**ç»éªŒæ€»ç»“**:
1. åŽŸå­æ“ä½œçš„è¯­ä¹‰è¦ä»”ç»†ç†è§£
2. æ•°æ®åº“ä¸­çš„ç‰¹æ®Šå€¼ï¼ˆå¦‚0ï¼‰è¦è°¨æ…Žä½¿ç”¨
3. åˆå§‹åŒ–é€»è¾‘è¦è¦†ç›–æ‰€æœ‰è·¯å¾„

### é—®é¢˜4: WALè®°å½•å¤´éƒ¨å¤§å°è®¡ç®—é”™è¯¯
**çŽ°è±¡**: åºåˆ—åŒ–æ—¶æ•°ç»„è¶Šç•Œ `index out of range [32] with length 24`

**åˆ†æž**:
- å®šä¹‰å¤´éƒ¨å¤§å°24å­—èŠ‚ï¼Œå®žé™…éœ€è¦33å­—èŠ‚
- å­—æ®µå¸ƒå±€: LSN(8) + Type(1) + TxnID(8) + PageID(8) + Length(4) + Checksum(4) = 33å­—èŠ‚

**è§£å†³æ–¹æ¡ˆ**:
```go
// ä¿®æ­£å¤´éƒ¨å¤§å°å®šä¹‰
const LogRecordHeaderSize = 33  // ç²¾ç¡®è®¡ç®—

// æ˜Žç¡®å­—æ®µå¸ƒå±€
binary.LittleEndian.PutUint64(data[0:8], record.LSN)      // 0-7
data[8] = byte(record.Type)                               // 8
binary.LittleEndian.PutUint64(data[9:17], record.TxnID)  // 9-16
binary.LittleEndian.PutUint64(data[17:25], record.PageID) // 17-24
binary.LittleEndian.PutUint32(data[25:29], uint32(len(record.Data))) // 25-28
binary.LittleEndian.PutUint32(data[29:33], checksum)     // 29-32
```

**ç»éªŒæ€»ç»“**:
1. äºŒè¿›åˆ¶æ ¼å¼è®¾è®¡è¦ç²¾ç¡®è®¡ç®—å¤§å°
2. æ·»åŠ è¯¦ç»†çš„å­—æ®µå¸ƒå±€æ³¨é‡Š
3. ä½¿ç”¨å¸¸é‡é¿å…é­”æ•°

## ðŸ“Š æ€§èƒ½æµ‹è¯•ä¸Žä¼˜åŒ–

### åŸºå‡†æµ‹è¯•ç»“æžœ
```
Apple M4 å¤„ç†å™¨æµ‹è¯•ç»“æžœ:
BenchmarkPageOperations/UpdateChecksum-10    407,077 ops    2,957 ns/op
BenchmarkPageOperations/VerifyChecksum-10    404,553 ops    2,996 ns/op  
BenchmarkBufferPool-10                      10,643,935 ops    122.7 ns/op
```

### æ€§èƒ½åˆ†æž
1. **é¡µé¢æ ¡éªŒå’Œ**: ~3Î¼sï¼Œä¸»è¦å¼€é”€åœ¨CRC32è®¡ç®—
2. **ç¼“å†²æ± è®¿é—®**: ~123nsï¼ŒåŒ…å«é”å¼€é”€å’ŒLRUæ›´æ–°
3. **å†…å­˜ä½¿ç”¨**: åŸºç¡€å ç”¨çº¦20MBï¼Œéšç¼“å†²æ± å¤§å°çº¿æ€§å¢žé•¿

### ä¼˜åŒ–ç­–ç•¥
1. **å¹¶å‘ä¼˜åŒ–**: åˆ†åŒºè®¾è®¡å°†é”ç«žäº‰é™ä½Ž16å€
2. **å†…å­˜ä¼˜åŒ–**: å¯¹è±¡æ± å¤ç”¨ï¼Œå‡å°‘GCåŽ‹åŠ›
3. **I/Oä¼˜åŒ–**: æ‰¹é‡æ“ä½œï¼Œå‡å°‘ç³»ç»Ÿè°ƒç”¨
4. **ç¼“å­˜ä¼˜åŒ–**: LRU + é¢„è¯»ï¼Œæé«˜å‘½ä¸­çŽ‡

## ðŸŽ“ å¼€å‘ç»éªŒæ€»ç»“

### 1. ç³»ç»Ÿè®¾è®¡åŽŸåˆ™
- **æ¨¡å—åŒ–**: æ¸…æ™°çš„èŒè´£åˆ’åˆ†ï¼Œé™ä½Žè€¦åˆåº¦
- **å¯æµ‹è¯•**: æ¯ä¸ªç»„ä»¶ç‹¬ç«‹æµ‹è¯•ï¼Œä¾¿äºŽè°ƒè¯•
- **å¯æ‰©å±•**: é¢„ç•™æ‰©å±•ç‚¹ï¼Œæ”¯æŒæœªæ¥éœ€æ±‚
- **é«˜æ€§èƒ½**: ä»Žè®¾è®¡é˜¶æ®µå°±è€ƒè™‘æ€§èƒ½ä¼˜åŒ–

### 2. å¹¶å‘ç¼–ç¨‹æœ€ä½³å®žè·µ
- **åˆ†åŒºç­–ç•¥**: å°†çƒ­ç‚¹æ•°æ®åˆ†æ•£åˆ°å¤šä¸ªåˆ†åŒº
- **é”ç²’åº¦**: ä½¿ç”¨æœ€å°å¿…è¦çš„é”ç²’åº¦
- **æ— é”è®¾è®¡**: ä¼˜å…ˆä½¿ç”¨åŽŸå­æ“ä½œå’Œé€šé“
- **æ­»é”é¢„é˜²**: ç»Ÿä¸€çš„é”èŽ·å–é¡ºåº

### 3. é”™è¯¯å¤„ç†ç­–ç•¥
- **åˆ†å±‚é”™è¯¯**: åº•å±‚è¯¦ç»†ï¼Œä¸Šå±‚ç®€åŒ–
- **é”™è¯¯æ¢å¤**: å…³é”®è·¯å¾„æ”¯æŒé‡è¯•
- **å®Œæ•´æ€§æ£€æŸ¥**: å¤šå±‚æ ¡éªŒï¼ŒåŠæ—©å‘çŽ°é—®é¢˜
- **ä¼˜é›…é™çº§**: éƒ¨åˆ†æ•…éšœä¸å½±å“æ•´ä½“

### 4. æµ‹è¯•é©±åŠ¨å¼€å‘
- **å•å…ƒæµ‹è¯•**: è¦†ç›–æ ¸å¿ƒé€»è¾‘
- **é›†æˆæµ‹è¯•**: éªŒè¯ç»„ä»¶åä½œ
- **æ€§èƒ½æµ‹è¯•**: ç›‘æŽ§æ€§èƒ½å›žå½’
- **é”™è¯¯æ³¨å…¥**: æµ‹è¯•å¼‚å¸¸å¤„ç†

è¿™ä¸ªB+æ ‘å¼•æ“Žçš„å®žçŽ°ä¸ºJadeDBæä¾›äº†åšå®žçš„åŸºç¡€ï¼Œè¾¾åˆ°äº†å·¥ä¸šçº§æ•°æ®åº“çš„å¯é æ€§å’Œæ€§èƒ½æ ‡å‡†ã€‚
