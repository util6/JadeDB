# JadeDB文档内容分类标记 - Task 1.2

## 分类标准

### 内容类型分类
- 🔴 **核心内容**: 必须保留在主文档的关键信息
- 🟡 **详细内容**: 需要移至独立文档的详细说明
- 🟢 **历史信息**: 有价值但需要归档的历史记录
- 🔵 **技术细节**: 具体的技术实现和代码细节
- ⚪ **过时信息**: 已经过时或被替代的内容

## 主文档内容分类

### 1. Prompt for AI assistant 部分
**分类**: 🔴 核心内容
**处理**: 保留在主文档
**原因**: AI辅助开发的核心指导原则

#### 项目目标描述
- 🔴 **核心**: 项目总体目标和学习目的
- 🔴 **核心**: 参考项目列表 (bbolt, lotusdb, CockroachDB)
- 🟡 **详细**: 具体的开发建议和技术细节

#### 开发环境描述
- 🔴 **核心**: Go版本和主要依赖
- 🔴 **核心**: 开发工具和平台支持

#### 功能需求描述
- 🔴 **核心**: 当前已实现LSM树
- 🔴 **核心**: 三个主要开发方向
- 🟡 **详细**: 具体的实现细节

### 2. 项目进度描述部分 (约600行)
**当前问题**: 严重违反精简原则，包含大量详细信息

#### Phase 1-6 完成功能记录
- 🔴 **核心**: 各Phase的主要成果摘要 (每个Phase 2-3行)
- 🟡 **详细**: 具体的技术实现细节 → 移至`功能实现详解.md`
- 🟡 **详细**: 详细的性能数据 → 移至`性能优化详解.md`
- 🟢 **历史**: 开发过程记录 → 移至`历史归档/开发里程碑/`

#### 建议精简方案
```markdown
**✅ 已完成功能概览**
- **Phase 1**: LSM树基础实现 - 核心存储引擎和CRUD操作
- **Phase 2**: PebbleDB优化 - 异步写入管道和性能优化
- **Phase 3**: B+树引擎 - 页面管理、缓冲池、WAL系统
- **Phase 4**: 分布式事务 - 统一事务系统和存储引擎适配
- **Phase 5**: TODO优化 - 系统性代码优化和质量提升
- **Phase 6**: 分布式共识 - Raft算法和Percolator事务模型

**详细实现**: 参见 [功能实现详解](功能实现详解.md)
```

### 3. 项目架构部分
#### 技术选型
- 🔴 **核心**: 最终选型结果和主要优势
- 🟡 **详细**: 详细的权衡分析 → 移至`技术架构详解.md`

#### 核心设计
- 🔴 **核心**: 四个核心设计要点的简要说明
- 🟡 **详细**: 具体的实现细节 → 移至`技术架构详解.md`

#### 项目目录结构
- 🔴 **核心**: 保留目录结构图
- 🟡 **详细**: 详细的文件说明 → 移至`开发指南.md`

### 4. Bug记录部分 (约200行)
**当前问题**: 过于详细，违反精简原则

#### 当前开发重点
- 🔴 **核心**: 保留4个重点方向

#### 最新修复的关键Bug
- 🔴 **核心**: 保留5个最新Bug的简要描述
- 🟡 **详细**: 详细解决方案 → 移至`Bug解决方案详解.md`

#### 遗留技术债务
- 🔴 **核心**: 保留4个主要技术债务
- 🟡 **详细**: 详细分析 → 移至`技术债务管理.md`

#### 最新技术成果
- 🔴 **核心**: 保留核心成果列表 (精简为10项)
- 🟡 **详细**: 详细说明 → 移至`技术成果详解.md`

### 5. Bug解决方案记录部分 (约300行)
**分类**: 🟡 详细内容
**处理**: 完整移至`Bug解决方案详解.md`
**主文档保留**: 仅保留索引链接

### 6. Phase 3 B+树开发记录部分 (约200行)
**分类**: 🟢 历史信息 + 🟡 详细内容
**处理**: 移至`历史归档/B+树开发历程.md`
**主文档保留**: 简要成果摘要

### 7. 项目状态总结部分 (约400行)
**分类**: 🟡 详细内容
**处理**: 移至`项目状态详解.md`
**主文档保留**: 核心指标摘要

## 支撑文档分类

### 开发里程碑目录 (11个文件)
- 🟢 **历史价值**: 全部移至`历史归档/开发里程碑/`
- 🔴 **核心提取**: 从中提取关键里程碑信息更新主文档

### 技术方案目录 (8个文件)
- 🟡 **详细内容**: 整合为几个主要的详细文档
  - `B+树引擎开发详细记录.md` → `技术架构详解.md`
  - `PebbleDB-优化方案.md` → `性能优化详解.md`
  - `Go语言循环依赖问题详解.md` → 保留独立

### 架构设计目录 (12个文件)
- 🟡 **详细内容**: 整合为`技术架构详解.md`
- 🔴 **核心提取**: 提取关键架构信息更新主文档

### 使用指南目录 (2个文件)
- 🔴 **核心**: 整合为`API使用指南.md`和`部署运维指南.md`

## 新文档结构规划

### 主文档保留内容 (目标300行)
1. **AI辅助开发提示词** (50行)
2. **项目进度概览** (50行) 
3. **技术选型摘要** (30行)
4. **核心架构要点** (40行)
5. **关键Bug记录** (50行)
6. **知识经验总结** (30行)
7. **详细文档索引** (50行)

### 新建详细文档
1. **技术架构详解.md** - 整合架构设计目录内容
2. **功能实现详解.md** - 整合技术方案和实现细节
3. **性能优化详解.md** - 整合优化方案和性能数据
4. **Bug解决方案详解.md** - 整合所有Bug记录和解决方案
5. **API使用指南.md** - 整合使用指南内容
6. **部署运维指南.md** - 部署和运维相关内容
7. **开发指南.md** - 开发环境和流程指南

### 历史归档结构
```
docs/历史归档/
├── 开发里程碑/
│   ├── Phase1-LSM基础实现.md
│   ├── Phase2-PebbleDB优化.md
│   ├── Phase3-B+树引擎.md
│   ├── Phase4-分布式事务.md
│   ├── Phase5-TODO优化.md
│   └── Phase6-分布式共识.md
├── 技术决策记录/
│   ├── 存储引擎选型.md
│   ├── 事务系统设计.md
│   └── 架构重构决策.md
└── 阶段性总结/
    ├── 项目早期状态.md
    ├── 中期进展总结.md
    └── 最新状态报告.md
```

## 关键信息保留清单

### 必须保留的核心信息
1. **项目目标**: 学习MySQL，参考优秀Go数据库
2. **技术栈**: Go 1.24 + 主要依赖
3. **功能状态**: 双存储引擎 + 分布式事务 + 85%完成度
4. **架构特点**: LSM+B+树，MVCC，Raft共识，Percolator事务
5. **性能指标**: 关键性能数据
6. **当前重点**: 4个开发重点方向
7. **技术债务**: 4个主要遗留问题

### 可以精简的内容
1. **详细实现过程**: 移至详细文档
2. **具体Bug解决步骤**: 移至Bug详解文档
3. **完整性能测试数据**: 移至性能详解文档
4. **历史开发记录**: 移至历史归档

## 执行优先级

### 立即执行 (Task 2.1-2.3)
1. 备份主文档
2. 精简主文档内容
3. 创建详细文档索引

### 后续执行 (Task 3.1-5.5)
1. 创建详细文档
2. 整合支撑文档内容
3. 建立历史归档

这个分类标记为后续的文档整合提供了清晰的指导方针。